<article class="product-card">
  <img
    [src]="product().imageUrl"
    [alt]="product().name"
    class="product-image"
    [routerLink]="['/product', product().id]"
    alt="Product Image"
    [style.view-transition-name]="'product-image-' + product().id"
  />

  <ng-content></ng-content>

  <div class="product-content">
    <h3
      class="product-title"
      [routerLink]="['/product', product().id]"
    >
      {{ product().name }}
    </h3>
    <p class="product-description">
      {{ product().description }}
    </p>

    <app-star-rating [rating]="product().rating" class="product-rating">
      ({{ product().reviewCount }})
    </app-star-rating>

    <div class="stock-state" [class.out]="!product().inStock">
      {{ product().inStock ? 'In Stock' : 'Out of Stock' }}
    </div>
    <div class="product-footer">
      <span class="product-price">
        {{ product().price | currency }}
      </span>
      <button
        matButton="filled"
        class="add-to-cart"
        (click)="store.addToCart(product(), 1)"
      >
        <mat-icon>shopping_cart</mat-icon>Add to Cart
      </button>
    </div>
  </div>
</article>
